### Linux 文件类型和扩展名

- **Linux** 文件类型和 **Linux** 文件的文件名所代表的意义是两个不同的概念。我们通过一般应用程序创建的比如 **file.txt** ，**file.tar.gz** ，这些文件虽然要用不同的应用程序打开，但放在 **Linux** 文件类型中衡量的话，大多是常规文件（也被称为普通文件）；

#### 一. 文件类型

**Linux** 文件类型常见的有：普通文件、目录文件、字符设备文件、和块设备文件、符号链接文件等，现在我们进行一个简要说明；

1. **普通文件**

   - 我们用 **ls -lh** 来查看某个文件的属性，可以看到有类似 **-rwxrwxrwx** ，做的注意的的是第一个符号是 **-** ，这样的文件在 **Linux** 中就是普通文件。这些文件一般是用一些相关的应用程序创建，比如图像工具，文档工具，归档工具或 **cp** 工具等。这类文件的删除方式是用 **rm** 命令。另外，按照文件的内容，又可以大略分为：

   - **1. 纯文本档(ASCII)**

     这是 **Linux** 系统中最多的一种文件类型，称为纯文本档是因为内容是我们人类可以直接督导的数据，例如数字、字母等。几乎只要我们可以用来做为设定的文件都属于这一种文件类型。举例来说，你可以用命令：**cat ~/.bashrc** 来看到该文件夹内容；

   - **2. 二进制文件(binary)**

     **Linux** 系统其实仅仅认识且可以执行二进制文件( **binary file** )。**Linux** 当中可执行文件( **script** ，文字型批处理文件不算)就是这种格式的文件。刚刚使用的命令 **cat** 也是一个 **binary file** ；

   - **3. 数据格式文件(data)**

     有些程序在运作过程的当中会读取某些特定格式的文件，那些特定格式的文件可以被称为数据文件( **data file** )。举例来说，我们的 **Linux** 在使用者登录的时候，都会将登录的数据存储在 **/var/log/wtmp** 那个文件内，该文件时一个 **data file** ，他能够通过 **last** 这个指令读出来，但是使用 **cat** 时，会读出乱码！因为他是属于一种特殊格式的文件；

2. **目录文件**

   - 当我们在某个目录下执行，看到有类似 **drwxr-xr-x** ，这样的文件就是目录。目录在 **Linux** 是一个比较特殊的文件。注意它的第一个字符是 **d** 。创建目录的命令可以用 **mkdir** 命令，或者 **cp** 命令，删除用 **rm** 或 **rmdir** 命令；

3. **字符设备或块设备文件**

   - 如果你进入 **/dev** 目录，列一下文件，会看到类似如下的

     ```bash
     [root@localhost ~]# ls -al /dev/tty
     crw-rw-rw- 1 root tty 5, 0 11-03 15:11 /dev/tty
     [root@localhost ~]# ls -la /dev/sda1
     brw-r----- 1 root disk 8, 1 11-03 07:11 /dev/sda1
     ```

   - 我们看到 **/dev/tty** 的属性是 **crw-rw-rw-**，注意前面第一个字符是 **c**，这表示**字符设备文件**。比如猫等串口设备。我们看到 **/dev/sdal** 的属性是 **brw-r- - - - -** ，注意前面的一个字符是 **b**，这表示**块设备**，比如硬盘，光驱等设备；

   - 这个种类的文件，是用 **mknode** 来创建的，用 **rm** 来删除。目前在最新的 **Linux** 发行版本中，我们一样不用自己来创建设备文件。因为这些文件是和内核相关联的；

   - 与周边系统及存储设备相关的一些文件，通常都集中在 **/dev** 这个目录下！通常又分为两种：

     - **区块(block)设备档**

       就是一些存储数据，以提供系统随机存取的的接口设备。举例来说，就是硬盘和软盘等。第一个属性为 **b** ；

     - **字符(character)设备文件**

       就是一些串行端口的接口设备，比如键盘、鼠标等等。这些设备的特色就是一次性读取的，不能够截断输出。举例来说，你不可能让鼠标跳到另一个画面，而是滑动到另一个地方。第一个属性为 **c** ；

4. **数据接口文件**

   - 接口数据文件(或者：套接口文件)，这种类型的文件通常被用在网络上的数据承接。我们恶意启动一个程序来监听客户端的要求，而客户端就可以通过这个 **socket** 来进行数据的沟通了。第一个属性为 **s** ，最常在 **/var/run** 这个目录中看到这种文件类型了；

   - 例如：当我们启动 **MySQL** 服务器时，会产生一个 **mysql.sock** 的文件：

     ```bash
     [root@localhost ~]# ls -lh /var/lib/mysql/mysql.sock 
     srwxrwxrwx 1 mysql mysql 0 04-19 11:12 /var/lib/mysql/mysql.sock
     ```

   - 注意这个文件属性的第一个字符是 **s** ；

5. **符号链接文件**

   - 当我们查看文件属性时，会看到有类似 **lrwxrwxrwx** ，注意第一个字符是 **l** ，这类文件是链接文件。是通过 **ln -s 源文件名 新文件名** 创建的。上面开始一个例子，表示 **setup.log** 是 **install.log** 的软链接文件。这和 **Windows** 操作系统中的快捷方式有点相似；

   - 符号链接文件的创建方法举例：

     ```bash
     [root@localhost test]# ls -lh log2012.log
     -rw-r--r-- 1 root root 296K 11-13 06:03 log2012.log
     [root@localhost test]# ln -s log2012.log  linklog.log
     [root@localhost test]# ls -lh *.log
     lrwxrwxrwx 1 root root   11 11-22 06:58 linklog.log -> log2012.log
     -rw-r--r-- 1 root root 296K 11-13 06:03 log2012.log
     ```

6. **数据传输文件（FIFO，pipe）**

   - **FIFO** 也是一种特殊的文件类型，他主要的目的在解决多个程序同时存取一个文件所造成的错误问题。**FIFO** 是 **first-in-first-out** 的缩写。第一个字符为 **p** ；

#### 二. Linux 文件扩展名

1. **扩展名类型**

   - 基本上，**Linux** 的文件时没有所谓的扩展名的，一个 **Linux** 文件能不能被执行，与他的第一栏的十个属性有关，与档名一点关系也没有。这个观点跟 **Windows** 的情况不同。在 **Windows** 底下，能够被执行的文件扩展名通常为 **.com .exe .bat** 等等，而在 **Linux** 底下，只要你的权限当中具有 **x** 话，如 **[-rwx-r-xr-x]** 即代表这个文件可以被执行；
   - 不过，可以被执行跟可以执行成功是不一样的。举例来说，在 **root** 根目录下的 **install.log** 是一个纯文本文件，如果修改其权限为 **-rwxrwxrwx** 后，这个文件能执行成功吗？当然不行~因为他的内容根本就没有可以执行的数据。所以说，这个 **x** 代表这个文件具有可执行的能力，但是能不能执行成功，还得看文件的内容；
   - 虽然如此，我们仍然希望可以藉由扩展名来了解该文件是什么东西，所以，通常我们还是会以适当的扩展名来表示该文件是什么种类的。下面是几种常见的扩展名：
     - **\*.sh** ：脚本或批处理文件(**scripts**)，因为批处理文件使用 **shell** 写成的，所以扩展名就编写成 **.sh** ；
     - **\*Z,\*.tar,\*.tar.gz,\*.zip,\*.tgz** ：经过打包的压缩文件。因为压缩软件分别为 **gunzip，tar** 等等，由于不同的压缩软件，而取其相关的扩展名；
     - **\*.html,\*.php** ：网页相关文件，分别代表 **HTML** 语法与 **PHP** 语法的网页文件。**.html** 的文件可以使用网页浏览器来开启，至于 **.php** 的文件，可以通过 **client** 端的浏览器来 **server** 端浏览，以得到运算后的网页结果；
   - 基本上，**Linux** 系统上的文件名称的只是让你了解该文件可能的用途而已，真正的执行与否仍然 **需要权限的规范** 才行。例如虽然有一个可执行文件，如常见的 **/bin/ls** 这个显示文件属性的指令，不过，如果这个文件的权限被修改成无法执行，那么 **ls** 就变成不能执行；
   - 上述的这种问题最常发生在文件传输过程中。例如你在网络上下载一个可执行文件，但是偏偏在你的 **Linux** 系统中是无法执行的，那么可能就是文件的属性被改变了。 

2. **Linux 文件名长度限制**

   - 在 **Linux** 底下，使用预设的 **Ext2/Ext3** 文件系统时，针对文件名长度限制为：
   - 单一文件或目录的最大容许文件名为 **255** 个字符；
   - 包含完整路径名称及目录(**/**)的完整档名称最大长度为 **4096** 个字符；

3. **Linux 文件名字符限制**

   -  由于 **Linux** 在文字接口下的一些指令操作关系，一般来说，你在设定 **Linux** 底下的文件名时，最好可以避免一些特殊的字符比较好，比如底下这些：

     ```
     * ? > < ; & ! [ ] | \ ' " ` ( ) { }
     ```

   - 因为这些符号在文字接口下，是有特殊意义的。

   - 另外，文件名的开头为小数点 **.** 时，代表这个文件为隐藏文件！

   - 由于指令下达当中，常常会用到 **-option** 之类的选项，所以你最好也避免将文件档名的开头以 **-** 或 **+** 来命名；